<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<!-- <script src="../src/_.js"></script> -->
	<!-- <script src="../src/n.js"></script> -->
	<!-- <script src="../src/aix.js"></script> -->
	<script src="../dest/aix.c.js"></script>
	<style>
		.a{
			color: red;
		}

		.b{
			color: blue;
		}
	</style>
</head>
<body>
	<div id="a">1</div>
	<div>2</div>
	<div>3</div>
	<div>4</div>
	<div>5</div>
	<div class="idea">
		<input type="checkbox" name="hell" id="hell" />
		<select name="geek" id="geek" class="geek">
			<option value="1" class="geek">God1</option>
			<option value="2" class="geek">Geek2</option>
			<option value="3" class="asb">Guy3</option>
		</select>

		<div class="abs">
			<li>1</li>
			<li>2</li>
			<li>3</li>
		</div>

		<div id="n" class="asb">
			<div>Hello</div>
			<li>Mike</li>
			<li>Fish</li>
			<li>Sun</li>
		</div>
		<form action="/" method="POST">
			<input type="number" value="" name="num" id="num" required>
			<input type="submit" name="submit" id="submit" value="submit" />
		</form>
	</div>

	<script>
//		__("body").live("change","select",function(event){
//			console.log(this.options.selectedIndex)
//		})
//
//		__("#n").reg("click",function(event){
//			event.stopPropagation();
//			console.log("click #n")
//		});
//
//		__("#n").live("click","li",function(event){
//
//			event.stopPropagation();
//			console.log("click li"+this.innerText);
//		});
//
//		var k = function(event){
//			event.stopPropagation();
//			console.log("see #m-li= "+this.innerText);
//		}
//
//		__("#m").live("see","li", k);
//
	__("#n").live("click","li",function(event){
		event.stopPropagation();

		console.log(event);
	});

	var aModel = new aix.model.extend({
		data : [1,2,3,4],
		events : {
			init : function(){
				console.log("create aModel ID-> " + this.aid);
			}
		}
	});

	var bCollection = new aix.collection.extend({
		model:aModel,
		validate : function(model){
			return _.typeof(model.data) === "object"
		},

		events : {
			change: function(){
				console.log("Collection change");
			},

			"validate:fail" : function(){
				console.log("validate fail with model data type");
			},

			"validate:success" : function(){
				console.log("validate pase!!")
			}
		}

	});

	var a1 = new aModel({ data:{id:50334, name:"aaa", time:"abc"} });
	var a2 = new aModel({ data:{id:178199, name:"bbb", time:"321"} });
	var a3 = new aModel({ data:{id:213, name:"aaa", time:"abc"} });
	var a4 = new aModel({ data:{id:1, name:"aaa", time:"abc"} });
	var a5 = new aModel({ data:{id:59, name:"aaa", time:"abc"} });
	var a6 = new aModel({ data:{id:4551, name:"aaa", time:"abc"} });

	var c1 = new aix.model({ data:[5,3,2,1] });
	var c2 = new aix.model({ data:["fuck","sad"] });
	
	var b1 = new bCollection();

	// add extra event
	b1.addEvent("sort",function(data){
		console.log("b1 collection data has been sorted!");
		console.log(data);
	});

	// add data to collection
	b1.add([a1,a2,a3,a4,a5,a6]);

	fn1 = function(){
		console.log(1);
	}
	fn2 = function(){
		console.log(2);
	}
	fn3 = function(){
		console.log(3);
	}
	fn4 = function(){
		console.log(4);
	}

	st = new _.stack([[fn1],[fn2,3]]);
	st.add([fn3,4],fn4);
	
	// try to add unbind data in collection
	// b1.add(c1);
	// b1.add([c1,c2]);

	// @ sort method
	//	b1.sort(function(m1,m2){
	//		return m1.data.id - m2.data.id;
	//	})

	var v = new aix.view({ 
		el : "#a" , 
		template: "{{-id}} * {{-name}} * {{-time}}",  
		events:{ 
			init: function(){ 
				return this.render(a1.parse());
			}
 		}	
	});

	__('.abs').html(__('<div>123</div><div>321</div><div>213</div>'));

	</script>
</body>
</html>
